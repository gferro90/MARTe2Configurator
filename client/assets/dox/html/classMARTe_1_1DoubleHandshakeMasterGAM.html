<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MARTe2-components: MARTe::DoubleHandshakeMasterGAM Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MARTe2-components
   </div>
   <div id="projectbrief">C++ real-time application development framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>MARTe</b></li><li class="navelem"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html">DoubleHandshakeMasterGAM</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classMARTe_1_1DoubleHandshakeMasterGAM-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MARTe::DoubleHandshakeMasterGAM Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This GAM implements a double handshake protocol sending commands to a slave .  
 <a href="classMARTe_1_1DoubleHandshakeMasterGAM.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="DoubleHandshakeMasterGAM_8h_source.html">DoubleHandshakeMasterGAM.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MARTe::DoubleHandshakeMasterGAM:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classMARTe_1_1DoubleHandshakeMasterGAM.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2c9be1f1e87e3d9908440ba030c03f67"><td class="memItemLeft" align="right" valign="top"><a id="a2c9be1f1e87e3d9908440ba030c03f67"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a2c9be1f1e87e3d9908440ba030c03f67">DoubleHandshakeMasterGAM</a> ()</td></tr>
<tr class="memdesc:a2c9be1f1e87e3d9908440ba030c03f67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br /></td></tr>
<tr class="separator:a2c9be1f1e87e3d9908440ba030c03f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a685c92281135100b23654d7066b09c43"><td class="memItemLeft" align="right" valign="top"><a id="a685c92281135100b23654d7066b09c43"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a685c92281135100b23654d7066b09c43">~DoubleHandshakeMasterGAM</a> ()</td></tr>
<tr class="memdesc:a685c92281135100b23654d7066b09c43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a685c92281135100b23654d7066b09c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ceacfca3907df8a6eb660ee5d0b64de"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a7ceacfca3907df8a6eb660ee5d0b64de">Initialise</a> (StructuredDataI &amp;data)</td></tr>
<tr class="memdesc:a7ceacfca3907df8a6eb660ee5d0b64de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises the GAM.  <a href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a7ceacfca3907df8a6eb660ee5d0b64de">More...</a><br /></td></tr>
<tr class="separator:a7ceacfca3907df8a6eb660ee5d0b64de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ebd7d6ad3f5d333dc2feabe35b3745"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a81ebd7d6ad3f5d333dc2feabe35b3745">Setup</a> ()</td></tr>
<tr class="memdesc:a81ebd7d6ad3f5d333dc2feabe35b3745"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the GAM.  <a href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a81ebd7d6ad3f5d333dc2feabe35b3745">More...</a><br /></td></tr>
<tr class="separator:a81ebd7d6ad3f5d333dc2feabe35b3745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f6e4fbdd5dff18083236a2bc9f71807"><td class="memItemLeft" align="right" valign="top"><a id="a8f6e4fbdd5dff18083236a2bc9f71807"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a8f6e4fbdd5dff18083236a2bc9f71807">Execute</a> ()</td></tr>
<tr class="memdesc:a8f6e4fbdd5dff18083236a2bc9f71807"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the double handshake state machine. <br /></td></tr>
<tr class="separator:a8f6e4fbdd5dff18083236a2bc9f71807"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7c78d085c5e905bcc963dc927e80c5ff"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a7c78d085c5e905bcc963dc927e80c5ff">IsChanged</a> (const uint32 cIdx) const</td></tr>
<tr class="memdesc:a7c78d085c5e905bcc963dc927e80c5ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a command signal has changed with respect the previous cycle.  <a href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a7c78d085c5e905bcc963dc927e80c5ff">More...</a><br /></td></tr>
<tr class="separator:a7c78d085c5e905bcc963dc927e80c5ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad2da242a70110bc463fdfde62a8a506a"><td class="memItemLeft" align="right" valign="top"><a id="ad2da242a70110bc463fdfde62a8a506a"></a>
uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#ad2da242a70110bc463fdfde62a8a506a">numberOfInputCommands</a></td></tr>
<tr class="memdesc:ad2da242a70110bc463fdfde62a8a506a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of input commands. <br /></td></tr>
<tr class="separator:ad2da242a70110bc463fdfde62a8a506a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcda77a339c9655db349d045b47b4b12"><td class="memItemLeft" align="right" valign="top"><a id="adcda77a339c9655db349d045b47b4b12"></a>
uint32 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#adcda77a339c9655db349d045b47b4b12">inputCommandSize</a></td></tr>
<tr class="memdesc:adcda77a339c9655db349d045b47b4b12"><td class="mdescLeft">&#160;</td><td class="mdescRight">The input command sizes. <br /></td></tr>
<tr class="separator:adcda77a339c9655db349d045b47b4b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb0f8a1ed63f59a124a5b9789ea36744"><td class="memItemLeft" align="right" valign="top"><a id="acb0f8a1ed63f59a124a5b9789ea36744"></a>
uint32 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#acb0f8a1ed63f59a124a5b9789ea36744">inputCommandOffset</a></td></tr>
<tr class="memdesc:acb0f8a1ed63f59a124a5b9789ea36744"><td class="mdescLeft">&#160;</td><td class="mdescRight">The input command offsets. <br /></td></tr>
<tr class="separator:acb0f8a1ed63f59a124a5b9789ea36744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb78a624b51da54b2f9056e038592e52"><td class="memItemLeft" align="right" valign="top"><a id="aeb78a624b51da54b2f9056e038592e52"></a>
uint32 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#aeb78a624b51da54b2f9056e038592e52">inputAckOffset</a></td></tr>
<tr class="memdesc:aeb78a624b51da54b2f9056e038592e52"><td class="mdescLeft">&#160;</td><td class="mdescRight">The input ack offsets. <br /></td></tr>
<tr class="separator:aeb78a624b51da54b2f9056e038592e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45e64f32e1e276706fd11135fb519ab"><td class="memItemLeft" align="right" valign="top"><a id="af45e64f32e1e276706fd11135fb519ab"></a>
uint32 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#af45e64f32e1e276706fd11135fb519ab">inputClearTrigOffset</a></td></tr>
<tr class="memdesc:af45e64f32e1e276706fd11135fb519ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">The clear trigger signal offsets. <br /></td></tr>
<tr class="separator:af45e64f32e1e276706fd11135fb519ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2a0f5e105e17edbcd983ed829a3e890"><td class="memItemLeft" align="right" valign="top"><a id="ac2a0f5e105e17edbcd983ed829a3e890"></a>
uint32 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#ac2a0f5e105e17edbcd983ed829a3e890">outputCommandOffset</a></td></tr>
<tr class="memdesc:ac2a0f5e105e17edbcd983ed829a3e890"><td class="mdescLeft">&#160;</td><td class="mdescRight">The output command offsets. <br /></td></tr>
<tr class="separator:ac2a0f5e105e17edbcd983ed829a3e890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ec94c24f78e261b287020526d85e64f"><td class="memItemLeft" align="right" valign="top"><a id="a2ec94c24f78e261b287020526d85e64f"></a>
uint8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a2ec94c24f78e261b287020526d85e64f">inputs</a></td></tr>
<tr class="memdesc:a2ec94c24f78e261b287020526d85e64f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The input memory buffer. <br /></td></tr>
<tr class="separator:a2ec94c24f78e261b287020526d85e64f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2474c1b4fe906eb86eb5d3c15a52df2d"><td class="memItemLeft" align="right" valign="top"><a id="a2474c1b4fe906eb86eb5d3c15a52df2d"></a>
uint8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a2474c1b4fe906eb86eb5d3c15a52df2d">outputs</a></td></tr>
<tr class="memdesc:a2474c1b4fe906eb86eb5d3c15a52df2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The output memory buffer. <br /></td></tr>
<tr class="separator:a2474c1b4fe906eb86eb5d3c15a52df2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa5231d5d04d442a444f47d3a3f89161"><td class="memItemLeft" align="right" valign="top"><a id="afa5231d5d04d442a444f47d3a3f89161"></a>
uint8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#afa5231d5d04d442a444f47d3a3f89161">previousValue</a></td></tr>
<tr class="memdesc:afa5231d5d04d442a444f47d3a3f89161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the inputs of the previous cycle. <br /></td></tr>
<tr class="separator:afa5231d5d04d442a444f47d3a3f89161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0151ec5ad87aeaa30de448766a51373a"><td class="memItemLeft" align="right" valign="top"><a id="a0151ec5ad87aeaa30de448766a51373a"></a>
uint8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a0151ec5ad87aeaa30de448766a51373a">state</a></td></tr>
<tr class="memdesc:a0151ec5ad87aeaa30de448766a51373a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the double handshake protocol state. <br /></td></tr>
<tr class="separator:a0151ec5ad87aeaa30de448766a51373a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2502b4653c0f39aa5134986fb36f7b7f"><td class="memItemLeft" align="right" valign="top"><a id="a2502b4653c0f39aa5134986fb36f7b7f"></a>
uint64 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a2502b4653c0f39aa5134986fb36f7b7f">startSMCycleTime</a></td></tr>
<tr class="memdesc:a2502b4653c0f39aa5134986fb36f7b7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the time when the state machine passes from ready to sending state. <br /></td></tr>
<tr class="separator:a2502b4653c0f39aa5134986fb36f7b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cf27b674e2c1a18f281514394fc7472"><td class="memItemLeft" align="right" valign="top"><a id="a5cf27b674e2c1a18f281514394fc7472"></a>
uint64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a5cf27b674e2c1a18f281514394fc7472">timeout</a></td></tr>
<tr class="memdesc:a5cf27b674e2c1a18f281514394fc7472"><td class="mdescLeft">&#160;</td><td class="mdescRight">The double handshake procedure timeout. <br /></td></tr>
<tr class="separator:a5cf27b674e2c1a18f281514394fc7472"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a5f3b637b4f282303fd4149e3af76b6c9"><td class="memItemLeft" align="right" valign="top"><a id="a5f3b637b4f282303fd4149e3af76b6c9"></a>
static const uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a5f3b637b4f282303fd4149e3af76b6c9">READY</a> =0u</td></tr>
<tr class="memdesc:a5f3b637b4f282303fd4149e3af76b6c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">READY state. <br /></td></tr>
<tr class="separator:a5f3b637b4f282303fd4149e3af76b6c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb1cade2427555a19525f5883d708589"><td class="memItemLeft" align="right" valign="top"><a id="abb1cade2427555a19525f5883d708589"></a>
static const uint8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#abb1cade2427555a19525f5883d708589">SENDING</a> =1u</td></tr>
<tr class="memdesc:abb1cade2427555a19525f5883d708589"><td class="mdescLeft">&#160;</td><td class="mdescRight">SENDING state. <br /></td></tr>
<tr class="separator:abb1cade2427555a19525f5883d708589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abde80b2ef984678e7a00a7ddb11c38fb"><td class="memItemLeft" align="right" valign="top"><a id="abde80b2ef984678e7a00a7ddb11c38fb"></a>
static const uint8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#abde80b2ef984678e7a00a7ddb11c38fb">CLEAR</a> =2u</td></tr>
<tr class="memdesc:abde80b2ef984678e7a00a7ddb11c38fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">CLEAR state. <br /></td></tr>
<tr class="separator:abde80b2ef984678e7a00a7ddb11c38fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a674b3b723d0a8f2efdeccb817d710782"><td class="memItemLeft" align="right" valign="top"><a id="a674b3b723d0a8f2efdeccb817d710782"></a>
static const uint8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a674b3b723d0a8f2efdeccb817d710782">DONE</a> =3u</td></tr>
<tr class="memdesc:a674b3b723d0a8f2efdeccb817d710782"><td class="mdescLeft">&#160;</td><td class="mdescRight">DONE state. <br /></td></tr>
<tr class="separator:a674b3b723d0a8f2efdeccb817d710782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a644099699078c3f85364cd8d2fe22282"><td class="memItemLeft" align="right" valign="top"><a id="a644099699078c3f85364cd8d2fe22282"></a>
static const uint8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html#a644099699078c3f85364cd8d2fe22282">ERROR</a> =4u</td></tr>
<tr class="memdesc:a644099699078c3f85364cd8d2fe22282"><td class="mdescLeft">&#160;</td><td class="mdescRight">ERROR state. <br /></td></tr>
<tr class="separator:a644099699078c3f85364cd8d2fe22282"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This GAM implements a double handshake protocol sending commands to a slave . </p>
<p>The <em><a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html" title="This GAM implements a double handshake protocol sending commands to a slave .">DoubleHandshakeMasterGAM</a></em> provides commands to a slave. It routes the command signals in input (that can arrive from other component in the application or from a supervisor) to a slave in output, implementing the double handshake protocol. The type of signals managed by this GAM are:<br  />
</p><ul>
<li>CommandIn: the input command to be provided</li>
<li>CommandOut: the command to the slave</li>
<li>AckIn: the acknowledge from the slave</li>
<li>ClearIn: the trigger to clear the channel</li>
<li>InternalState: the double handshake state machine state Follows a description of the state machine that implements the double handshake for each command channel:<br  />
</li>
<li>READY: the input command signal has not changed. If the command signal changes to a value different than zero, then go to SENDING.<br  />
</li>
<li>SENDING: routes the command in output to the slave. Wait for the command to be acked from the slave, then go to CLEAR state.<br  />
</li>
<li>CLEAR: waits the clear signals to be zero. This means that the acknowledge response has been managed by the other components and it is possible to clear the channel. Clears the channel and go to done.</li>
<li>DONE: waits that the command signal is reset by the slave. Then, go to READY again.</li>
</ul>
<p>When the ack from the slave is received, other GAMs (i.e the <a class="el" href="classMARTe_1_1MessageGAM.html" title="Triggers MARTe::Message events on the basis of commands received in the input signals.">MessageGAM</a>) could react. Once the acknowledge response has been handled, the clear trigger signal is set to zero and the <a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html" title="This GAM implements a double handshake protocol sending commands to a slave .">DoubleHandshakeMasterGAM</a> will clear the channel.<br  />
The <a class="el" href="classMARTe_1_1DoubleHandshakeSlaveGAM.html" title="This GAM implements a double handshake protocol receiving commands from a master.">DoubleHandshakeSlaveGAM</a> recognizes the signals commands, acks and clear triggers by name convention:<br  />
</p><ul>
<li>Signals beginning with "CommandIn" are the input commands signals.<br  />
</li>
<li>Signals beginning with "AckIn" are the input acknowledge signals.<br  />
</li>
<li>Signals beginning with "CleatTrigIn" are the input clear trigger signals.<br  />
</li>
<li>Signals beginning with "CommandOut" are the output commands signals.<br  />
</li>
<li>Signals beginning with "InternalState" are the output state machine state signals.<br  />
 Constraints:<br  />
</li>
<li>[number of in commands]==[number of out command]<br  />
</li>
<li>[number of in commands]==[number of acknowledges]<br  />
</li>
<li>[number of in commands]==[number of clear triggers]<br  />
</li>
<li>[number of in commands]==[number of internal states]<br  />
</li>
<li>[in commands type] == [out commands type]<br  />
</li>
<li>[in commands type] == [acknowledges type]<br  />
</li>
<li>[clear triggers type] == uint32<br  />
</li>
<li>[internal states type] == uint32</li>
<li>The internal states signals have to be defined all together</li>
</ul>
<p>The internal state signals provide in output the current state of the double handshake state machine for each channel:<br  />
</p><ul>
<li>0 = READY<br  />
</li>
<li>1 = SENDING<br  />
</li>
<li>2 = CLEAR<br  />
</li>
<li>3 = DONE<br  />
</li>
<li>4 = ERROR<br  />
 The double handshake state machine can go in ERROR state in this cases:<br  />
</li>
<li>From READY if the slave changes the ack.<br  />
</li>
<li>From SENDING if the slave sends a bad ack (different than the command value).<br  />
</li>
<li>From CLEAR if the slave changes or reset the ack.<br  />
</li>
<li>From DONE if the slave changes the ack to something different than zero.<br  />
</li>
<li>From SENDING, CLEAR or DONE if the specified timeout expires.</li>
</ul>
<p>Follows an example of configuration: </p><pre>
+<a class="el" href="classMARTe_1_1DoubleHandshakeMasterGAM.html" title="This GAM implements a double handshake protocol sending commands to a slave .">DoubleHandshakeMasterGAM</a> = {
   Class = DoubleHandshakeGAM::DoubleHandshakeMasterGAM
   InputSignals = {
       CommandIn = {
           Alias = Command
           NumberOfElements=2
           Type = uint32
           DataSource = DDB1
       }
       AckIn = {
           Trigger = 1
           Type = uint32
           NumberOfElements=2
           DataSource = FromSlave
       }
       ClearIn0 = {
           Type = uint32
           DataSource = DDB1
       }
       ClearIn1 = {
           Type = uint32
           DataSource = DDB1
       }
   }
   OutputSignals = {
       CommandOut0 = {
           Type = uint32
           DataSource = ToSlave
       }
       CommandOut1 = {
           Type = uint32
           DataSource = ToSlave
       }
       InternalState0 = {
           Type = uint32
           DataSource = DDB1
       }
       InternalState1 = {
           Type = uint32
           DataSource = DDB1
       }
   }
}
</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a7ceacfca3907df8a6eb660ee5d0b64de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ceacfca3907df8a6eb660ee5d0b64de">&#9670;&nbsp;</a></span>Initialise()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::DoubleHandshakeMasterGAM::Initialise </td>
          <td>(</td>
          <td class="paramtype">StructuredDataI &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialises the GAM. </p>
<p>The user can specify the parameter:<br  />
</p><ul>
<li>Timeout: the timeout in milliseconds of the handshake procedure. If the timeout expires in SENDING, CLEAR or DONE states, the state machine goes in ERROR state. </li>
</ul>

</div>
</div>
<a id="a7c78d085c5e905bcc963dc927e80c5ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c78d085c5e905bcc963dc927e80c5ff">&#9670;&nbsp;</a></span>IsChanged()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32 MARTe::DoubleHandshakeMasterGAM::IsChanged </td>
          <td>(</td>
          <td class="paramtype">const uint32&#160;</td>
          <td class="paramname"><em>cIdx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a command signal has changed with respect the previous cycle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cIdx</td><td>the command signal index. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if the commands changed to zero, 1 if the command changed from zero, -2 if the command changed, 0 if the command did not change. </dd></dl>

</div>
</div>
<a id="a81ebd7d6ad3f5d333dc2feabe35b3745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81ebd7d6ad3f5d333dc2feabe35b3745">&#9670;&nbsp;</a></span>Setup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::DoubleHandshakeMasterGAM::Setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setup the GAM. </p>
<p>Checks the constraints and initialises the internal variables to execute the double handshake state machine. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/codac-dev/MARTe2Project/GIT/MARTe2-components/Source/Components/GAMs/DoubleHandshakeGAM/<a class="el" href="DoubleHandshakeMasterGAM_8h_source.html">DoubleHandshakeMasterGAM.h</a></li>
<li>/home/codac-dev/MARTe2Project/GIT/MARTe2-components/Source/Components/GAMs/DoubleHandshakeGAM/<a class="el" href="DoubleHandshakeMasterGAM_8cpp.html">DoubleHandshakeMasterGAM.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.0
</small></address>
</body>
</html>
