<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MARTe2-components: MARTe::OPCUADSOutput Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MARTe2-components
   </div>
   <div id="projectbrief">C++ real-time application development framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>MARTe</b></li><li class="navelem"><a class="el" href="classMARTe_1_1OPCUADSOutput.html">OPCUADSOutput</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classMARTe_1_1OPCUADSOutput-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MARTe::OPCUADSOutput Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classMARTe_1_1OPCUADSOutput.html" title="OPCUADSOutput class.">OPCUADSOutput</a> class.  
 <a href="classMARTe_1_1OPCUADSOutput.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="OPCUADSOutput_8h_source.html">OPCUADSOutput.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MARTe::OPCUADSOutput:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classMARTe_1_1OPCUADSOutput.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0eb0cc6a2bbeee51f9279ecb06977b6e"><td class="memItemLeft" align="right" valign="top"><a id="a0eb0cc6a2bbeee51f9279ecb06977b6e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1OPCUADSOutput.html#a0eb0cc6a2bbeee51f9279ecb06977b6e">OPCUADSOutput</a> ()</td></tr>
<tr class="memdesc:a0eb0cc6a2bbeee51f9279ecb06977b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Constructor. <br /></td></tr>
<tr class="separator:a0eb0cc6a2bbeee51f9279ecb06977b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dae81bd292d11687562bcf04c090e2f"><td class="memItemLeft" align="right" valign="top"><a id="a2dae81bd292d11687562bcf04c090e2f"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1OPCUADSOutput.html#a2dae81bd292d11687562bcf04c090e2f">~OPCUADSOutput</a> ()</td></tr>
<tr class="memdesc:a2dae81bd292d11687562bcf04c090e2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Destructor. <br /></td></tr>
<tr class="separator:a2dae81bd292d11687562bcf04c090e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a501299619b656a6d65717243d8359d1e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1OPCUADSOutput.html#a501299619b656a6d65717243d8359d1e">Initialise</a> (StructuredDataI &amp;data)</td></tr>
<tr class="memdesc:a501299619b656a6d65717243d8359d1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads and verifies all the configuration parameters detailed in the class description.  <a href="classMARTe_1_1OPCUADSOutput.html#a501299619b656a6d65717243d8359d1e">More...</a><br /></td></tr>
<tr class="separator:a501299619b656a6d65717243d8359d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bded7ebf9a2fea506cd9307fb191099"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1OPCUADSOutput.html#a0bded7ebf9a2fea506cd9307fb191099">SetConfiguredDatabase</a> (StructuredDataI &amp;data)</td></tr>
<tr class="memdesc:a0bded7ebf9a2fea506cd9307fb191099"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the actual number of nodes and sets the correct browse path for each signal.  <a href="classMARTe_1_1OPCUADSOutput.html#a0bded7ebf9a2fea506cd9307fb191099">More...</a><br /></td></tr>
<tr class="separator:a0bded7ebf9a2fea506cd9307fb191099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13e751148698c19447654c2d3b9abb09"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1OPCUADSOutput.html#a13e751148698c19447654c2d3b9abb09">AllocateMemory</a> ()</td></tr>
<tr class="memdesc:a13e751148698c19447654c2d3b9abb09"><td class="mdescLeft">&#160;</td><td class="mdescRight">NOOP.  <a href="classMARTe_1_1OPCUADSOutput.html#a13e751148698c19447654c2d3b9abb09">More...</a><br /></td></tr>
<tr class="separator:a13e751148698c19447654c2d3b9abb09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a834fc537345f5e70650b9aee20ac7595"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1OPCUADSOutput.html#a834fc537345f5e70650b9aee20ac7595">GetSignalMemoryBuffer</a> (const uint32 signalIdx, const uint32 bufferIdx, void *&amp;signalAddress)</td></tr>
<tr class="separator:a834fc537345f5e70650b9aee20ac7595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a955cc00bf75614d8c1570bd34d51ba79"><td class="memItemLeft" align="right" valign="top">virtual const char8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1OPCUADSOutput.html#a955cc00bf75614d8c1570bd34d51ba79">GetBrokerName</a> (StructuredDataI &amp;data, const SignalDirection direction)</td></tr>
<tr class="separator:a955cc00bf75614d8c1570bd34d51ba79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a424a7bb426631e43783c4efb10ce1052"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1OPCUADSOutput.html#a424a7bb426631e43783c4efb10ce1052">PrepareNextState</a> (const char8 *const currentStateName, const char8 *const nextStateName)</td></tr>
<tr class="separator:a424a7bb426631e43783c4efb10ce1052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a907a17be05e7346454e5d584efca5"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1OPCUADSOutput.html#a68a907a17be05e7346454e5d584efca5">Synchronise</a> ()</td></tr>
<tr class="separator:a68a907a17be05e7346454e5d584efca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b157bcae09f52554058564718c1069a"><td class="memItemLeft" align="right" valign="top"><a id="a8b157bcae09f52554058564718c1069a"></a>
const char8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1OPCUADSOutput.html#a8b157bcae09f52554058564718c1069a">GetServerAddress</a> ()</td></tr>
<tr class="memdesc:a8b157bcae09f52554058564718c1069a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the server address. <br /></td></tr>
<tr class="separator:a8b157bcae09f52554058564718c1069a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c1a398adac221777fcd9926f863f8f3"><td class="memItemLeft" align="right" valign="top"><a id="a3c1a398adac221777fcd9926f863f8f3"></a>
<a class="el" href="classMARTe_1_1OPCUAClientWrapper.html">OPCUAClientWrapper</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1OPCUADSOutput.html#a3c1a398adac221777fcd9926f863f8f3">GetClient</a> ()</td></tr>
<tr class="memdesc:a3c1a398adac221777fcd9926f863f8f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the OPCUA Client pointer. <br /></td></tr>
<tr class="separator:a3c1a398adac221777fcd9926f863f8f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classMARTe_1_1OPCUADSOutput.html" title="OPCUADSOutput class.">OPCUADSOutput</a> class. </p>
<p>It is the OPCUA Output DataSource that manages the write-only OPCUA client life cycle.  This DataSource allows to write data to Node Variables managed by an OPCUA Server. This class uses the OPC UA Write Service. You must assign the actual name of the Node you want to read as signal name. Since it uses the TranslateBrowsePathToNodeId service, you must indicate the relative browse path of the Address Space starting from the OPCUA Object of interest inside the "Objects" folder.</p>
<p>It supports int8/16/32/64, uint8/16/32/64, float32/64, and Introspection Structure. Strings are not supported yet.</p>
<p>The configuration syntax is (names are only given as an example): </p><pre>
+OPCUA = {
    Class = OPCUADataSource::OPCUADSOutput
    Address = "opc.tcp://192.168.130.20:4840" //The OPCUA Server Address
    Signals = {
        Node1 = {
            Type = uint32
            NamespaceIndex = 1
            Path = Object1.Block1.Block2.Node1
        }
        Node2 = {
            Type = float32
            NamespaceIndex = 2
            Path = Object2.Folder1.Node2
        }
        NodeStructure1 = {
            Type = MyStructure
            NamespaceIndex = 3
            Path = Object3.Block1.Block2.NodeStructure1
        }
    }
}
</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a13e751148698c19447654c2d3b9abb09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13e751148698c19447654c2d3b9abb09">&#9670;&nbsp;</a></span>AllocateMemory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::OPCUADSOutput::AllocateMemory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>NOOP. </p>
<dl class="section see"><dt>See also</dt><dd>DataSourceI::AllocateMemory </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd></dl>

</div>
</div>
<a id="a955cc00bf75614d8c1570bd34d51ba79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a955cc00bf75614d8c1570bd34d51ba79">&#9670;&nbsp;</a></span>GetBrokerName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char8 * MARTe::OPCUADSOutput::GetBrokerName </td>
          <td>(</td>
          <td class="paramtype">StructuredDataI &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SignalDirection&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd>DataSourceI::GetBrokerName  Only OutputSignals are supported. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>MemoryMapSynchronisedOutputBroker </dd></dl>

</div>
</div>
<a id="a834fc537345f5e70650b9aee20ac7595"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a834fc537345f5e70650b9aee20ac7595">&#9670;&nbsp;</a></span>GetSignalMemoryBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::OPCUADSOutput::GetSignalMemoryBuffer </td>
          <td>(</td>
          <td class="paramtype">const uint32&#160;</td>
          <td class="paramname"><em>signalIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32&#160;</td>
          <td class="paramname"><em>bufferIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&amp;&#160;</td>
          <td class="paramname"><em>signalAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd>DataSourceI::GetNumberOfMemoryBuffers  The memory buffer is obtained after a Browse request on the OPCUA Server's Address Space through the <a class="el" href="classMARTe_1_1OPCUAClientWrapper.html" title="Helper class for OPCUA DataSource that wraps the OPCUA Client functionalities.">OPCUAClientWrapper</a> Helper Class. </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>SetConfiguredDatabase </dd></dl>

</div>
</div>
<a id="a501299619b656a6d65717243d8359d1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a501299619b656a6d65717243d8359d1e">&#9670;&nbsp;</a></span>Initialise()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::OPCUADSOutput::Initialise </td>
          <td>(</td>
          <td class="paramtype">StructuredDataI &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads and verifies all the configuration parameters detailed in the class description. </p>
<dl class="section return"><dt>Returns</dt><dd>true if all the mandatory parameters are correctly specified and if the specified optional parameters have valid values. </dd></dl>

</div>
</div>
<a id="a424a7bb426631e43783c4efb10ce1052"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a424a7bb426631e43783c4efb10ce1052">&#9670;&nbsp;</a></span>PrepareNextState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::OPCUADSOutput::PrepareNextState </td>
          <td>(</td>
          <td class="paramtype">const char8 *const&#160;</td>
          <td class="paramname"><em>currentStateName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char8 *const&#160;</td>
          <td class="paramname"><em>nextStateName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd>DataSourceI::PrepareNextState </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd></dl>

</div>
</div>
<a id="a0bded7ebf9a2fea506cd9307fb191099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bded7ebf9a2fea506cd9307fb191099">&#9670;&nbsp;</a></span>SetConfiguredDatabase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::OPCUADSOutput::SetConfiguredDatabase </td>
          <td>(</td>
          <td class="paramtype">StructuredDataI &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the actual number of nodes and sets the correct browse path for each signal. </p>
<p>This method constructs the actual browse paths for each node adding all the child nodes if the signal is an Introspection Structure. </p><dl class="section return"><dt>Returns</dt><dd>true if all the paths were successfully constructed. </dd></dl>

</div>
</div>
<a id="a68a907a17be05e7346454e5d584efca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68a907a17be05e7346454e5d584efca5">&#9670;&nbsp;</a></span>Synchronise()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::OPCUADSOutput::Synchronise </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd>DataSourceI::Synchronise  Provides the context to create the OPC UA Write service request. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true if all the services are executed correctly. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/codac-dev/MARTe2Project/GIT/MARTe2-components/Source/Components/DataSources/OPCUADataSource/<a class="el" href="OPCUADSOutput_8h_source.html">OPCUADSOutput.h</a></li>
<li>/home/codac-dev/MARTe2Project/GIT/MARTe2-components/Source/Components/DataSources/OPCUADataSource/<a class="el" href="OPCUADSOutput_8cpp.html">OPCUADSOutput.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.0
</small></address>
</body>
</html>
