<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MARTe2-components: MARTe::FileReader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MARTe2-components
   </div>
   <div id="projectbrief">C++ real-time application development framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>MARTe</b></li><li class="navelem"><a class="el" href="classMARTe_1_1FileReader.html">FileReader</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classMARTe_1_1FileReader-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MARTe::FileReader Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A DataSourceI interface which allows to read signals from a file.  
 <a href="classMARTe_1_1FileReader.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="FileReader_8h_source.html">FileReader.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MARTe::FileReader:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classMARTe_1_1FileReader.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6a5138ffdaa9b656f65ef5b4a03d7a5a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#a6a5138ffdaa9b656f65ef5b4a03d7a5a">FileReader</a> ()</td></tr>
<tr class="memdesc:a6a5138ffdaa9b656f65ef5b4a03d7a5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="classMARTe_1_1FileReader.html#a6a5138ffdaa9b656f65ef5b4a03d7a5a">More...</a><br /></td></tr>
<tr class="separator:a6a5138ffdaa9b656f65ef5b4a03d7a5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a228bce7609c6044ba644c68d0a0e03cc"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#a228bce7609c6044ba644c68d0a0e03cc">~FileReader</a> ()</td></tr>
<tr class="memdesc:a228bce7609c6044ba644c68d0a0e03cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="classMARTe_1_1FileReader.html#a228bce7609c6044ba644c68d0a0e03cc">More...</a><br /></td></tr>
<tr class="separator:a228bce7609c6044ba644c68d0a0e03cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91fa65bc083b1fd7fd9986adc0e02cb6"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#a91fa65bc083b1fd7fd9986adc0e02cb6">AllocateMemory</a> ()</td></tr>
<tr class="memdesc:a91fa65bc083b1fd7fd9986adc0e02cb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">See DataSourceI::AllocateMemory.  <a href="classMARTe_1_1FileReader.html#a91fa65bc083b1fd7fd9986adc0e02cb6">More...</a><br /></td></tr>
<tr class="separator:a91fa65bc083b1fd7fd9986adc0e02cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b82bd5b6dab66bf5338d3d7cfe181d1"><td class="memItemLeft" align="right" valign="top">virtual uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#a4b82bd5b6dab66bf5338d3d7cfe181d1">GetNumberOfMemoryBuffers</a> ()</td></tr>
<tr class="memdesc:a4b82bd5b6dab66bf5338d3d7cfe181d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">See DataSourceI::GetNumberOfMemoryBuffers.  <a href="classMARTe_1_1FileReader.html#a4b82bd5b6dab66bf5338d3d7cfe181d1">More...</a><br /></td></tr>
<tr class="separator:a4b82bd5b6dab66bf5338d3d7cfe181d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a490993087558e0dea368f7b081cdca9a"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#a490993087558e0dea368f7b081cdca9a">GetSignalMemoryBuffer</a> (const uint32 signalIdx, const uint32 bufferIdx, void *&amp;signalAddress)</td></tr>
<tr class="memdesc:a490993087558e0dea368f7b081cdca9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">See DataSourceI::GetSignalMemoryBuffer.  <a href="classMARTe_1_1FileReader.html#a490993087558e0dea368f7b081cdca9a">More...</a><br /></td></tr>
<tr class="separator:a490993087558e0dea368f7b081cdca9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc786ada6f38ab116415c6c48762f05e"><td class="memItemLeft" align="right" valign="top">virtual const char8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#abc786ada6f38ab116415c6c48762f05e">GetBrokerName</a> (StructuredDataI &amp;data, const SignalDirection direction)</td></tr>
<tr class="memdesc:abc786ada6f38ab116415c6c48762f05e"><td class="mdescLeft">&#160;</td><td class="mdescRight">See DataSourceI::GetBrokerName.  <a href="classMARTe_1_1FileReader.html#abc786ada6f38ab116415c6c48762f05e">More...</a><br /></td></tr>
<tr class="separator:abc786ada6f38ab116415c6c48762f05e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac238e4b867a9c1258184a2114749e48e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#ac238e4b867a9c1258184a2114749e48e">GetInputBrokers</a> (ReferenceContainer &amp;inputBrokers, const char8 *const functionName, void *const gamMemPtr)</td></tr>
<tr class="memdesc:ac238e4b867a9c1258184a2114749e48e"><td class="mdescLeft">&#160;</td><td class="mdescRight">See DataSourceI::GetInputBrokers.  <a href="classMARTe_1_1FileReader.html#ac238e4b867a9c1258184a2114749e48e">More...</a><br /></td></tr>
<tr class="separator:ac238e4b867a9c1258184a2114749e48e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac716133e8566adb1d7c4cfcafdd32a5e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#ac716133e8566adb1d7c4cfcafdd32a5e">GetOutputBrokers</a> (ReferenceContainer &amp;outputBrokers, const char8 *const functionName, void *const gamMemPtr)</td></tr>
<tr class="memdesc:ac716133e8566adb1d7c4cfcafdd32a5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">See DataSourceI::GetOutputBrokers.  <a href="classMARTe_1_1FileReader.html#ac716133e8566adb1d7c4cfcafdd32a5e">More...</a><br /></td></tr>
<tr class="separator:ac716133e8566adb1d7c4cfcafdd32a5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fe3c55fc33520a505f3969fa989eabd"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#a6fe3c55fc33520a505f3969fa989eabd">Synchronise</a> ()</td></tr>
<tr class="memdesc:a6fe3c55fc33520a505f3969fa989eabd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads into the buffer data the data from the specified file in the specified format.  <a href="classMARTe_1_1FileReader.html#a6fe3c55fc33520a505f3969fa989eabd">More...</a><br /></td></tr>
<tr class="separator:a6fe3c55fc33520a505f3969fa989eabd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e8066c15b5301481cabd7b12b1bb4c3"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#a4e8066c15b5301481cabd7b12b1bb4c3">PrepareNextState</a> (const char8 *const currentStateName, const char8 *const nextStateName)</td></tr>
<tr class="memdesc:a4e8066c15b5301481cabd7b12b1bb4c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">See DataSourceI::PrepareNextState.  <a href="classMARTe_1_1FileReader.html#a4e8066c15b5301481cabd7b12b1bb4c3">More...</a><br /></td></tr>
<tr class="separator:a4e8066c15b5301481cabd7b12b1bb4c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9705f8edd9627d981d031470c9a2c11c"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#a9705f8edd9627d981d031470c9a2c11c">Initialise</a> (StructuredDataI &amp;data)</td></tr>
<tr class="memdesc:a9705f8edd9627d981d031470c9a2c11c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads and verifies the configuration parameters detailed in the class description.  <a href="classMARTe_1_1FileReader.html#a9705f8edd9627d981d031470c9a2c11c">More...</a><br /></td></tr>
<tr class="separator:a9705f8edd9627d981d031470c9a2c11c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4001d8d2fb0653d304ae55b189de959"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#ac4001d8d2fb0653d304ae55b189de959">SetConfiguredDatabase</a> (StructuredDataI &amp;data)</td></tr>
<tr class="memdesc:ac4001d8d2fb0653d304ae55b189de959"><td class="mdescLeft">&#160;</td><td class="mdescRight">Final verification of all the parameters and opening of the file.  <a href="classMARTe_1_1FileReader.html#ac4001d8d2fb0653d304ae55b189de959">More...</a><br /></td></tr>
<tr class="separator:ac4001d8d2fb0653d304ae55b189de959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf3f3df0b76968ddf122bee20b50621f"><td class="memItemLeft" align="right" valign="top">ErrorManagement::ErrorType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#abf3f3df0b76968ddf122bee20b50621f">CloseFile</a> ()</td></tr>
<tr class="memdesc:abf3f3df0b76968ddf122bee20b50621f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the file.  <a href="classMARTe_1_1FileReader.html#abf3f3df0b76968ddf122bee20b50621f">More...</a><br /></td></tr>
<tr class="separator:abf3f3df0b76968ddf122bee20b50621f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d79cba25f56d30d29b5484986084bae"><td class="memItemLeft" align="right" valign="top">const StreamString &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#a4d79cba25f56d30d29b5484986084bae">GetFilename</a> () const</td></tr>
<tr class="memdesc:a4d79cba25f56d30d29b5484986084bae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the configured filename.  <a href="classMARTe_1_1FileReader.html#a4d79cba25f56d30d29b5484986084bae">More...</a><br /></td></tr>
<tr class="separator:a4d79cba25f56d30d29b5484986084bae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a317ff944a599ffa6f699c3f788ddec79"><td class="memItemLeft" align="right" valign="top">const StreamString &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#a317ff944a599ffa6f699c3f788ddec79">GetFileFormat</a> () const</td></tr>
<tr class="memdesc:a317ff944a599ffa6f699c3f788ddec79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the configured FileFormat.  <a href="classMARTe_1_1FileReader.html#a317ff944a599ffa6f699c3f788ddec79">More...</a><br /></td></tr>
<tr class="separator:a317ff944a599ffa6f699c3f788ddec79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a592a1b43c7d83eb1f0e2a6e8fc50d307"><td class="memItemLeft" align="right" valign="top">const StreamString &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#a592a1b43c7d83eb1f0e2a6e8fc50d307">GetCSVSeparator</a> () const</td></tr>
<tr class="memdesc:a592a1b43c7d83eb1f0e2a6e8fc50d307"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the configured CSVSeparator.  <a href="classMARTe_1_1FileReader.html#a592a1b43c7d83eb1f0e2a6e8fc50d307">More...</a><br /></td></tr>
<tr class="separator:a592a1b43c7d83eb1f0e2a6e8fc50d307"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f83b04490d5ecde4684e13fe4596aa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#a65f83b04490d5ecde4684e13fe4596aa">IsInterpolate</a> () const</td></tr>
<tr class="memdesc:a65f83b04490d5ecde4684e13fe4596aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the file is to be interpolated.  <a href="classMARTe_1_1FileReader.html#a65f83b04490d5ecde4684e13fe4596aa">More...</a><br /></td></tr>
<tr class="separator:a65f83b04490d5ecde4684e13fe4596aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e3f7b3239573212a109e0d8e5d5d93"><td class="memItemLeft" align="right" valign="top">const StreamString &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#ae1e3f7b3239573212a109e0d8e5d5d93">GetXAxisSignal</a> () const</td></tr>
<tr class="memdesc:ae1e3f7b3239573212a109e0d8e5d5d93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the XAxisSignal name.  <a href="classMARTe_1_1FileReader.html#ae1e3f7b3239573212a109e0d8e5d5d93">More...</a><br /></td></tr>
<tr class="separator:ae1e3f7b3239573212a109e0d8e5d5d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2753b9cee7f863cbd28c4705adf8dfd4"><td class="memItemLeft" align="right" valign="top">uint64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMARTe_1_1FileReader.html#a2753b9cee7f863cbd28c4705adf8dfd4">GetInterpolationPeriod</a> () const</td></tr>
<tr class="memdesc:a2753b9cee7f863cbd28c4705adf8dfd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the InterpolationPeriod value.  <a href="classMARTe_1_1FileReader.html#a2753b9cee7f863cbd28c4705adf8dfd4">More...</a><br /></td></tr>
<tr class="separator:a2753b9cee7f863cbd28c4705adf8dfd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A DataSourceI interface which allows to read signals from a file. </p>
<p>The file format can be either text (csv) or binary. The data can be interpolated against a defined x-axis (e.g. time) vector or retrieved as is.</p>
<p>If the format is csv the first line shall be be a comment starting with a # symbol followed by each signal name, type and number of elements in the format: SIGNAL_NAME (SIGNAL_TYPE)[NUMBER_OF_ELEMENTS]. Each of these signal definitions is further separated by the CSVSeparator. e.g."#Trigger (uint8)[1];Time (uint32)[1];SignalUInt8 (uint8)[1];SignalUInt16 (uint16)[4]" A new line is expected after all signal samples have been written for any time instant. Arrays are encoded inside brackets as per BufferedStreamI::PrintFormatted. e.g.""1;2000000;{2,2,2,2}"</p>
<p>Strings shall be expressed with the type char8 or string with the number of elements defining the maximum string length (including the \0 terminator). Arrays of strings are not currently supported.</p>
<p>If the format is binary an header with the following information is expected: the first 4 bytes contain the number of signals. Then, for each signal, the signal type will be encoded in two bytes, followed by exactly 32 bytes to encode the signal name, followed by 4 bytes which store the number of elements of a given signal. Following the header, the signal samples are consecutively stored in binary format.</p>
<p>This DataSourceI has the function CloseFile registered as an RPCs.</p>
<p>Only one and one GAM is allowed to read from this DataSourceI.</p>
<p>If any of the signals reading from this DataSourceI asks for a Frequency &gt; 0, the InterpolationPeriod defined below will be ignored and replaced by Frequency * 1e9 and the XAxisSignal will be replaced by this signal name.</p>
<p>The configuration syntax is (names are only given as an example): </p><pre>
+FileReader_0 = {
    Class = <a class="el" href="classMARTe_1_1FileReader.html" title="A DataSourceI interface which allows to read signals from a file.">FileReader</a>
    Filename = "test.bin" //Compulsory.
    Interpolate = "yes" //Compulsory. If "yes" the data will be interpolated and an XAxisSignal  signal shall be provided. If set to "no" the data will be provided as is.
    FileFormat = "binary" //Compulsory. Possible values are: binary and csv.
    CSVSeparator = "," //Compulsory if Format=csv. Sets the file separator type.
    XAxisSignal = "Time" //Compulsory if Interpolate = "yes" and none of the signals interacting with this <a class="el" href="classMARTe_1_1FileReader.html" title="A DataSourceI interface which allows to read signals from a file.">FileReader</a> has Frequency &gt; 0. Name of the signal containing the independent variable to generate the interpolation samples.
    InterpolationPeriod = 1000 //Compulsory if Interpolate = "yes" and none of the signals interacting with this <a class="el" href="classMARTe_1_1FileReader.html" title="A DataSourceI interface which allows to read signals from a file.">FileReader</a> has Frequency &gt; 0. InterpolatedXAxisSignal += InterpolationPeriod. It will be read as an uint64.
    EOF = "Rewind" //Optional behaviour to have when reaching the end of the file. If not set EOF = "Rewind". Possible options are: "Error", "Rewind" and "Last". If "Rewind" the file will be read from the start; if "Error" an error will be issues when EOF is reached; if "Last" the last read values are sent.
    //All the signals are automatically added against the information stored in the header of the input file (format described above).
    +Messages = { //Optional. If set a message will be fired every time one of the events below occur
        Class = ReferenceContainer
        //FileOpenedOK does not exist since the file is opened in the Initialise method and, as a consequence, the targeted object would not necessarily exist.
        +FileRuntimeError = { //Optional, but if set, the name of the Object shall be FileRuntimeError. If set a message will be sent to the Destination, the first time there is a runtime error reading from the file.
            Class = Message
            Destination = SomeObject
            Function = SomeFunction
            Mode = ExpectsReply
        }
    }
}
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6a5138ffdaa9b656f65ef5b4a03d7a5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a5138ffdaa9b656f65ef5b4a03d7a5a">&#9670;&nbsp;</a></span>FileReader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MARTe::FileReader::FileReader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>
<p>Initialises all the optional parameters as described in the class description. Registers the RPC CloseFile callback function. </p>

</div>
</div>
<a id="a228bce7609c6044ba644c68d0a0e03cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a228bce7609c6044ba644c68d0a0e03cc">&#9670;&nbsp;</a></span>~FileReader()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MARTe::FileReader::~FileReader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>Frees the memory buffer and closes the file. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a91fa65bc083b1fd7fd9986adc0e02cb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91fa65bc083b1fd7fd9986adc0e02cb6">&#9670;&nbsp;</a></span>AllocateMemory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::FileReader::AllocateMemory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>See DataSourceI::AllocateMemory. </p>
<p>NOOP. </p><dl class="section return"><dt>Returns</dt><dd>true. </dd></dl>

</div>
</div>
<a id="abf3f3df0b76968ddf122bee20b50621f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf3f3df0b76968ddf122bee20b50621f">&#9670;&nbsp;</a></span>CloseFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ErrorManagement::ErrorType MARTe::FileReader::CloseFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the file. </p>
<p>Function is registered as an RPC. </p><dl class="section return"><dt>Returns</dt><dd>ErrorManagement::NoError if the file can be successfully closed. </dd></dl>

</div>
</div>
<a id="abc786ada6f38ab116415c6c48762f05e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc786ada6f38ab116415c6c48762f05e">&#9670;&nbsp;</a></span>GetBrokerName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char8 * MARTe::FileReader::GetBrokerName </td>
          <td>(</td>
          <td class="paramtype">StructuredDataI &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SignalDirection&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>See DataSourceI::GetBrokerName. </p>
<p>Only InputSignals are supported. </p><dl class="section return"><dt>Returns</dt><dd>MemoryMapSynchronisedInputBroker if interpolate = false, MemoryMapInterpolatedInputBroker otherwise. </dd></dl>

</div>
</div>
<a id="a592a1b43c7d83eb1f0e2a6e8fc50d307"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a592a1b43c7d83eb1f0e2a6e8fc50d307">&#9670;&nbsp;</a></span>GetCSVSeparator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const StreamString &amp; MARTe::FileReader::GetCSVSeparator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the configured CSVSeparator. </p>
<dl class="section return"><dt>Returns</dt><dd>the configured CSVSeparator. </dd></dl>

</div>
</div>
<a id="a317ff944a599ffa6f699c3f788ddec79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a317ff944a599ffa6f699c3f788ddec79">&#9670;&nbsp;</a></span>GetFileFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const StreamString &amp; MARTe::FileReader::GetFileFormat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the configured FileFormat. </p>
<dl class="section return"><dt>Returns</dt><dd>the configured FileFormat. </dd></dl>

</div>
</div>
<a id="a4d79cba25f56d30d29b5484986084bae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d79cba25f56d30d29b5484986084bae">&#9670;&nbsp;</a></span>GetFilename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const StreamString &amp; MARTe::FileReader::GetFilename </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the configured filename. </p>
<dl class="section return"><dt>Returns</dt><dd>the configured filename. </dd></dl>

</div>
</div>
<a id="ac238e4b867a9c1258184a2114749e48e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac238e4b867a9c1258184a2114749e48e">&#9670;&nbsp;</a></span>GetInputBrokers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::FileReader::GetInputBrokers </td>
          <td>(</td>
          <td class="paramtype">ReferenceContainer &amp;&#160;</td>
          <td class="paramname"><em>inputBrokers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char8 *const&#160;</td>
          <td class="paramname"><em>functionName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>gamMemPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>See DataSourceI::GetInputBrokers. </p>
<p>If interpolate == yes adds a MemoryMapInterpolatedInputBroker instance to the inputBrokers, otherwise adds a MemoryMapSynchronisedInputBroker instance to the intputBrokers. </p><dl class="section pre"><dt>Precondition</dt><dd>GetNumberOfFunctions() == 1u </dd></dl>

</div>
</div>
<a id="a2753b9cee7f863cbd28c4705adf8dfd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2753b9cee7f863cbd28c4705adf8dfd4">&#9670;&nbsp;</a></span>GetInterpolationPeriod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64 MARTe::FileReader::GetInterpolationPeriod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the InterpolationPeriod value. </p>
<dl class="section return"><dt>Returns</dt><dd>the InterpolationPeriod value </dd></dl>

</div>
</div>
<a id="a4b82bd5b6dab66bf5338d3d7cfe181d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b82bd5b6dab66bf5338d3d7cfe181d1">&#9670;&nbsp;</a></span>GetNumberOfMemoryBuffers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32 MARTe::FileReader::GetNumberOfMemoryBuffers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>See DataSourceI::GetNumberOfMemoryBuffers. </p>
<dl class="section return"><dt>Returns</dt><dd>1. </dd></dl>

</div>
</div>
<a id="ac716133e8566adb1d7c4cfcafdd32a5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac716133e8566adb1d7c4cfcafdd32a5e">&#9670;&nbsp;</a></span>GetOutputBrokers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::FileReader::GetOutputBrokers </td>
          <td>(</td>
          <td class="paramtype">ReferenceContainer &amp;&#160;</td>
          <td class="paramname"><em>outputBrokers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char8 *const&#160;</td>
          <td class="paramname"><em>functionName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>gamMemPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>See DataSourceI::GetOutputBrokers. </p>
<dl class="section return"><dt>Returns</dt><dd>false. </dd></dl>

</div>
</div>
<a id="a490993087558e0dea368f7b081cdca9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a490993087558e0dea368f7b081cdca9a">&#9670;&nbsp;</a></span>GetSignalMemoryBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::FileReader::GetSignalMemoryBuffer </td>
          <td>(</td>
          <td class="paramtype">const uint32&#160;</td>
          <td class="paramname"><em>signalIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32&#160;</td>
          <td class="paramname"><em>bufferIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&amp;&#160;</td>
          <td class="paramname"><em>signalAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>See DataSourceI::GetSignalMemoryBuffer. </p>
<dl class="section pre"><dt>Precondition</dt><dd>SetConfiguredDatabase </dd></dl>

</div>
</div>
<a id="ae1e3f7b3239573212a109e0d8e5d5d93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1e3f7b3239573212a109e0d8e5d5d93">&#9670;&nbsp;</a></span>GetXAxisSignal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const StreamString &amp; MARTe::FileReader::GetXAxisSignal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the XAxisSignal name. </p>
<dl class="section return"><dt>Returns</dt><dd>the XAxisSignal name. </dd></dl>

</div>
</div>
<a id="a9705f8edd9627d981d031470c9a2c11c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9705f8edd9627d981d031470c9a2c11c">&#9670;&nbsp;</a></span>Initialise()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::FileReader::Initialise </td>
          <td>(</td>
          <td class="paramtype">StructuredDataI &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads and verifies the configuration parameters detailed in the class description. </p>
<dl class="section return"><dt>Returns</dt><dd>true if all the mandatory parameters are correctly specified and if the specified optional parameters have valid values. </dd></dl>

</div>
</div>
<a id="a65f83b04490d5ecde4684e13fe4596aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65f83b04490d5ecde4684e13fe4596aa">&#9670;&nbsp;</a></span>IsInterpolate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::FileReader::IsInterpolate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the file is to be interpolated. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the file is to be interpolated. </dd></dl>

</div>
</div>
<a id="a4e8066c15b5301481cabd7b12b1bb4c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e8066c15b5301481cabd7b12b1bb4c3">&#9670;&nbsp;</a></span>PrepareNextState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::FileReader::PrepareNextState </td>
          <td>(</td>
          <td class="paramtype">const char8 *const&#160;</td>
          <td class="paramname"><em>currentStateName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char8 *const&#160;</td>
          <td class="paramname"><em>nextStateName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>See DataSourceI::PrepareNextState. </p>
<p>NOOP. </p><dl class="section return"><dt>Returns</dt><dd>true. </dd></dl>

</div>
</div>
<a id="ac4001d8d2fb0653d304ae55b189de959"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4001d8d2fb0653d304ae55b189de959">&#9670;&nbsp;</a></span>SetConfiguredDatabase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::FileReader::SetConfiguredDatabase </td>
          <td>(</td>
          <td class="paramtype">StructuredDataI &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Final verification of all the parameters and opening of the file. </p>
<p>This method verifies that all the parameters (e.g. number of samples) requested by the GAMs interacting with this DataSource are valid and consistent with the parameters set during the initialisation phase. In particular the following conditions shall be met:</p><ul>
<li>If relevant, the XAxisSignal shall exist and shall have at most one element.</li>
<li>The number of samples of all the signals is one.</li>
<li>At least one signal is set. <dl class="section return"><dt>Returns</dt><dd>true if all the parameters are valid and if the file can be successfully opened. </dd></dl>
</li>
</ul>

</div>
</div>
<a id="a6fe3c55fc33520a505f3969fa989eabd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fe3c55fc33520a505f3969fa989eabd">&#9670;&nbsp;</a></span>Synchronise()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MARTe::FileReader::Synchronise </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads into the buffer data the data from the specified file in the specified format. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the data can be successfully read from the file. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/codac-dev/MARTe2Project/GIT/MARTe2-components/Source/Components/DataSources/FileDataSource/<a class="el" href="FileReader_8h_source.html">FileReader.h</a></li>
<li>/home/codac-dev/MARTe2Project/GIT/MARTe2-components/Source/Components/DataSources/FileDataSource/<a class="el" href="FileReader_8cpp.html">FileReader.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.0
</small></address>
</body>
</html>
