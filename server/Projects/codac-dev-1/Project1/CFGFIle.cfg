
+StateMachine = {
    Class = StateMachine
    
    +IDLE = {
        Class = ReferenceContainer
        
        +START = {
            Class=StateMachineEvent
            
            +StartEpics = {
                Class=Message
                Destination=EpicsCA
                Function=Start
                Mode=ExpectsReply
     
                +Parameters = {
                    Class = ConfigurationDatabase
                    
                    Param1=1
                }
    
            }
            +StartThreads = {
                Class=Message
                Destination=Application
                Function=StartThreads
                Mode=ExpectsReply
     
                +Parameters = {
                    Class = ConfigurationDatabase
                    
                    Param1="Acquire"
                }
    
            }
            +CleanDDB = {
                Class=Message
                Destination=DDB
                Function=Clean
                Mode=ExpectsReply
     
                +Parameters = {
                    Class = ConfigurationDatabase
                    
                    Param1=10
                }
    
            }
        }
    }
    
    +ACQUIRE = {
        Class = ReferenceContainer
        
        +STOP = {
            Class=StateMachineEvent
            
            +StopAcquisition = {
                Class=Message
                Destination=CRIO
                Function=StopAcq
                Mode=ExpectsReply
     
                +Parameters = {
                    Class = ConfigurationDatabase
                    
                    Param1=2
                }
    
            }
        }
    }
    
    +ERROR = {
        Class = ReferenceContainer
        
        +RESET = {
            Class=StateMachineEvent
            
            +Reset = {
                Class=Message
                Destination=Application
                Function=ChangeState
                Mode=ExpectsReply
    
            }
        }
    }
    
    
}

+RealTimeApplication = {
    Class = RealTimeApplication
    +Functions = {
        Class = ReferenceContainer
    
        +IOGAM = {
            Class = IOGAM
            InputSignals = {
            
                Signal1 = {
                    DataSource = GAMDataSource
                    Type = uint8
                    NumberOfDimensions = 0
                    NumberOfElements = 1
                    Trigger = 1 
                }
            
            }
        }

        +IOGAM2 = {
            Class = IOGAM
            InputSignals = {
            
                Signal1={
                    DataSource = GAMDataSource
                    Type = uint8
                    NumberOfDimensions = 0
                    NumberOfElements = 1
                    Trigger = 1 
                }
            }
        }

    }
    +Data = {
        Class = ReferenceContainer
        +Timings = {
            Class = TimingDataSource
        } 
    
        +GAMDataSource = {
            Class = GAMDataSource
            AllowNoProducers = 1
            ResetUnusedVariablesAtStateChange = 1
            
            Signals = {
            
                Signal1 = {
                    NumberOfDimensions = 0
                    NumberOfElements = 1
                    Type =  uint8
                }
            
            }
            
            
        }

    }
    +States = {
        Class = ReferenceContainer
        
        +State1 = {
            Class = RealTimeState
            +Threads = {
                Class = ReferenceContainer
                
                +Thread1 = {
                    Class = RealTimeThread
                    
                    CPUs = 1
                    
                    
                    Functions  = { IOGAM2 }
                }
            }
        }
    }
    +Scheduler = {
        Class = GAMScheduler
        TimingDataSource = Timings
    }
    
}

                                         
                                         
                                         